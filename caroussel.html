<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrousel 3D</title>
    <style>
        .carousel-container {
            position: relative;
            width: 100%;
            height: 400px;
            perspective: 1000px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .carousel {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
        }

        .carousel-item {
            position: absolute;
            width: 200px;
            height: 300px;
            transition: all 0.5s ease;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        .controls {
            position: absolute;
            bottom: 20px;
            display: flex;
            gap: 20px;
        }

        button {
            padding: 10px 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="carousel-container">
        <div class="carousel">
            <!-- Les images seront ajoutées dynamiquement via JavaScript -->
        </div>
        <div class="controls">
            <button onclick="rotate(-1)">Précédent</button>
            <button onclick="rotate(1)">Suivant</button>
        </div>
    </div>

    <script>
        const images = [
            'imgs/machines/cameo.jpg',
            'imgs/machines/cr-scan01.jpg',
            'imgs/machines/decoupe_laser.jpg',
            'imgs/machines/prusa-i3_mk3.jpg',
            'imgs/machines/tronxy.jpg'
        ];

        let currentAngle = 0;
        const carousel = document.querySelector('.carousel');
        
        // Création des éléments du carrousel
        images.forEach((image, index) => {
            const item = document.createElement('div');
            item.className = 'carousel-item';
            const img = document.createElement('img');
            img.src = image;
            item.appendChild(img);
            carousel.appendChild(item);
        });

        function updateCarousel() {
            const items = document.querySelectorAll('.carousel-item');
            const angleStep = 360 / items.length;
            
            items.forEach((item, index) => {
                const angle = (currentAngle + index * angleStep) % 360;
                const radian = angle * Math.PI / 180;
                const z = Math.cos(radian) * 300;
                const x = Math.sin(radian) * 400;
                const scale = (z + 400) / 800; // Calcul de l'échelle basé sur la position Z

                item.style.transform = `translate3d(${x}px, 0, ${z}px) scale(${scale})`;
                item.style.zIndex = Math.floor(scale * 1000);
                item.style.opacity = scale;
            });
        }

        function rotate(direction) {
            const angleStep = 360 / images.length;
            currentAngle -= direction * angleStep;
            updateCarousel();
        }

        // Initialisation du carrousel
        updateCarousel();

        // Ajout de la rotation automatique (optionnel)
        setInterval(() => rotate(1), 3000);
    </script>
</body>
</html>

